const{json,isAdmin}=require("./_state");const {isAdminAuthed}=require("./_adminGuard");const{loadReviews}=require("./_auth");exports.handler=async(event)=>{try{if(!(await isAdminAuthed(event,isAdmin)))return json(401,{error:"Unauthorized"});const reviews=await loadReviews();const items=(reviews.items || []).slice(-200).reverse();return json(200,{ok:true,items});}catch(e){console.error("adminListReviews failed:",e);return json(500,{error:"Failed",detail:e?.message || "unknown"});}};