const{json,isAdmin,saveState,mkId,pushLog}=require("./_state");exports.handler=async(event)=>{try{if(!isAdmin(event))return json(401,{error:"Unauthorized"});const teams=[{id:mkId("team"),name:"Pretzel Gold"},{id:mkId("team"),name:"Salted Ops"},{id:mkId("team"),name:"Twist Squad"}];const players=[{id:mkId("p"),name:"Ava",teamId:teams[0].id,status:"alive",kills:1},{id:mkId("p"),name:"Ben",teamId:teams[0].id,status:"alive",kills:0},{id:mkId("p"),name:"Cody",teamId:teams[1].id,status:"pending",kills:2},{id:mkId("p"),name:"Daisy",teamId:teams[2].id,status:"eliminated",kills:0}];const state={lastUpdated:null,teams,players,log:[]};pushLog(state,"Demo data seeded.");await saveState(state);return json(200,{ok:true});}catch(e){console.error("seedDemo failed:",e);return json(500,{error:"Failed to seed",detail:e?.message || "unknown"});}};